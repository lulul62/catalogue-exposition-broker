<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Broker-madera</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <link rel="stylesheet" href="style.css">

</head>

<body>
<div id="vueApp">
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
        <header class="mdl-layout__header">
            <div class="mdl-layout__header-row">
                <!-- Title -->
                <span class="mdl-layout-title">Broker-madera</span>
                <!-- Add spacer, to align navigation to the right -->
                <div class="mdl-layout-spacer"></div>
                <!-- Navigation. We hide it in small screens. -->
                <nav class="mdl-navigation mdl-layout--large-screen-only">
                    <a class="mdl-navigation__link" href="index.html"><i class="material-icons">build</i>
                        MicroServices</a>
                    <a class="mdl-navigation__link" href="#" click.stop="loadUrls"><i class="material-icons">cached</i>
                        Rafraichir les URL</a>
                    <a class="mdl-navigation__link" href="../create/createService.html">

                            <i class="material-icons">code</i> Ajouter un service

                    </a>

                </nav>
            </div>
        </header>
        <div class="mdl-layout__drawer">
            <span class="mdl-layout-title">Broker-madera</span>
            <nav class="mdl-navigation">
                <a class="mdl-navigation__link" href="#" click.stop="loadUrls"><i class="material-icons">cached</i>
                    Rafraichir les URL</a>
                <a class="mdl-navigation__link" href="#" click.stop="addMs"><i class="material-icons">code</i> Ajouter
                    un service</a>
            </nav>
        </div>
        <main class="mdl-layout__content">

            </br>
            <center>

                <div class="alert alert-info">
                  Liste des services enregistr√©s
                </div>

                <table class="mdl-data-table mdl-js-data-table mdl-data-table mdl-shadow--2dp">
                    <thead>
                    <tr>
                        <th class="mdl-data-table__cell--non-numeric">Nom du service</th>
                        <th class="mdl-data-table__cell--non-numeric">Description</th>
                        <th class="mdl-data-table__cell--non-numeric">URL</th>
                        <th class="mdl-data-table__cell--non-numeric">+ d'info</th>

                    </tr>
                    </thead>
                    <tbody v-for="url in urls" v-on:click.capture="getCurrentService(url, $event)">
                    <tr>
                        <td class="mdl-data-table__cell--non-numeric">{{url.name}}</td>
                         <td class="mdl-data-table__cell--non-numeric">{{url.description}}</td>
                        <td class="mdl-data-table__cell--non-numeric">{{url.url}}</td>
                        <td class="mdl-data-table__cell--non-numeric"><!-- Trigger the modal with a button -->
                            <button type="button" class="btn btn-success btnmd" data-toggle="modal"
                                    data-target="#myModal"><i class="material-icons">find_in_page</i></button>
                        </td>

                    </tr>
                    </tbody>
                </table>
            </center>

            <!-- Modal -->
            <div id="myModal" class="modal fade" role="dialog">
                <div class="modal-dialog">

                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">{{currentUrl.name}}</h4>
                        </div>
                        <div class="modal-body">
                            <p>Url du service : {{currentUrl.url}}</p>
                            <p>Description du service : {{currentUrl.description}}</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>

                </div>
            </div>


        </main>
    </div>

    <script src='http://cdnjs.cloudflare.com/ajax/libs/vue/1.0.8/vue.js'></script>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/vue-resource/0.1.16/vue-resource.min.js'></script>
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script
            src="https://code.jquery.com/jquery-3.1.1.min.js"
            integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="index.js"></script>
</body>
</html>
